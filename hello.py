def get_number(prompt):
    """ì‚¬ìš©ìë¡œë¶€í„° ìˆ«ìë¥¼ ì…ë ¥ë°›ê³ , ìœ íš¨í•œ ìˆ«ìì¸ì§€ ê²€ì‚¬í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤."""
    while True:
        try:
            # ì…ë ¥ë°›ì€ ë¬¸ìì—´ì„ ì†Œìˆ˜ì ê¹Œì§€ í—ˆìš©í•˜ëŠ” ì‹¤ìˆ˜(float)ë¡œ ë³€í™˜ ì‹œë„
            return float(input(prompt))
        except ValueError:
            # ìˆ«ìë¡œ ë³€í™˜í•  ìˆ˜ ì—†ëŠ” ì…ë ¥ì´ ë“¤ì–´ì˜¤ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥ í›„ ë‹¤ì‹œ ì…ë ¥ë°›ê¸°
            print("âŒ ì˜¤ë¥˜: ìœ íš¨í•œ ìˆ«ìë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.")

def get_operator():
    """ì‚¬ìš©ìë¡œë¶€í„° ìœ íš¨í•œ ì—°ì‚°ìë¥¼ ì…ë ¥ë°›ì•„ ë°˜í™˜í•©ë‹ˆë‹¤."""
    valid_operators = ['+', '-', '*', '/']
    while True:
        op = input("ìˆ˜í–‰í•  ì—°ì‚°ì„ ì„ íƒí•˜ì„¸ìš” (+, -, *, /): ")
        if op in valid_operators:
            return op
        else:
            print("âŒ ì˜¤ë¥˜: ì§€ì›í•˜ì§€ ì•ŠëŠ” ì—°ì‚°ìì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ ì£¼ì„¸ìš”.")

def calculate_result(num1, operator, num2):
    """ì…ë ¥ë°›ì€ ìˆ«ìì™€ ì—°ì‚°ìë¡œ ì‹¤ì œ ê³„ì‚°ì„ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤."""
    if operator == '+':
        return num1 + num2
    elif operator == '-':
        return num1 - num2
    elif operator == '*':
        return num1 * num2
    elif operator == '/':
        if num2 == 0:
            # 0ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²½ìš° ì˜ˆì™¸ ì²˜ë¦¬
            print("âŒ ì˜¤ë¥˜: 0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!")
            return None
        return num1 / num2
    # ì‚¬ì‹¤ get_operator() í•¨ìˆ˜ì—ì„œ ìœ íš¨ì„±ì„ ì´ë¯¸ ê²€ì‚¬í–ˆê¸° ë•Œë¬¸ì—, ì´ ë¶€ë¶„ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    return None

def run_calculator():
    """ê³„ì‚°ê¸° í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ê³  ë°˜ë³µ ì‚¬ìš© ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤."""
    print("====================================")
    print("âœ¨ íŒŒì´ì¬ ì½˜ì†” ê³„ì‚°ê¸° í”„ë¡œê·¸ë¨ ì‹œì‘ âœ¨")
    print("====================================")

    while True:
        # 1. ì²« ë²ˆì§¸ ìˆ«ì ì…ë ¥
        num1 = get_number("ì²« ë²ˆì§¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”: ")

        # 2. ì—°ì‚°ì ì…ë ¥
        operator = get_operator()

        # 3. ë‘ ë²ˆì§¸ ìˆ«ì ì…ë ¥
        num2 = get_number("ë‘ ë²ˆì§¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”: ")

        # 4. ê³„ì‚° ìˆ˜í–‰ ë° ê²°ê³¼ ì¶œë ¥
        result = calculate_result(num1, operator, num2)

        if result is not None:
            # ê²°ê³¼ê°€ Noneì´ ì•„ë‹Œ ê²½ìš° (ì¦‰, 0ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ì˜¤ë¥˜ê°€ ì•„ë‹Œ ê²½ìš°)
            print(f"\nâœ… ê³„ì‚° ê²°ê³¼: {num1} {operator} {num2} = {result}\n")

        # 5. ê³„ì† ì‚¬ìš© ì—¬ë¶€ í™•ì¸
        continue_calc = input("ê³„ì† ê³„ì‚°í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/N): ").strip().upper()
        
        if continue_calc != 'Y':
            print("ğŸ‘‹ ê³„ì‚°ê¸°ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤. ì´ìš©í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!")
            break

# ê³„ì‚°ê¸° í”„ë¡œê·¸ë¨ ì‹œì‘
if __name__ == "__main__":
    run_calculator()
